<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TODO List</title>
    <script src="https://unpkg.com/vue@next"></script>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div id="app">
        <h1 class="ms-2">Trier un tableau</h1>
        <table class="table table-bordered w-75 ms-4 mt-2">
            <thead>
                <tr>
                    <th>Country</th>
                    <th class="noselect cursor-pointer" @click="orderTab">Nombre de mobiles {{ orderType === 'asc' ? '&#9650;' : orderType === 'desc' ?
                        '&#9660;' : '&#9650;&#9660;' }}</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="stat in stats">
                    <td>{{ stat.country }}</td>
                    <td>{{ stat.nbMobile }} Millions</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        const MyVueApp = {
            data() {
                return {
                    stats: [{
                        country: 'USA',
                        nbMobile: 654
                    },
                    {
                        country: 'Chine',
                        nbMobile: 567
                    },
                    {
                        country: 'Allemagne',
                        nbMobile: 123
                    },
                    {
                        country: 'Espagne',
                        nbMobile: 345
                    },
                    {
                        country: 'Italie',
                        nbMobile: 234
                    },
                    {
                        country: 'France',
                        nbMobile: 456
                    }],
                    orderType: null,
                    nbClicks: 0
                }
            },
            computed: {},
            methods: {
                orderTab() {
                    this.nbClicks++
                    return this.stats.sort((a, b) => {
                        this.nbClicks % 2 === 0 ? this.orderType = 'asc' : this.orderType = 'desc'
                        return this.orderType === 'asc' ? a.nbMobile - b.nbMobile : b.nbMobile - a.nbMobile
                    })
                },
            }
        }
        Vue.createApp(MyVueApp).mount('#app')
    </script>
</body>

</html>